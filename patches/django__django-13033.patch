diff --git a/django/db/models/sql/query.py b/django/db/models/sql/query.py
--- a/django/db/models/sql/query.py
+++ b/django/db/models/sql/query.py
@@ -1468,10 +1468,16 @@ class Query(BaseExpression):
                     field = opts.get_field(name)
                 except FieldDoesNotExist:
                     break
             if field.is_relation:
                 if pos == len(names) - 1:
-                    path.append(self.get_path_info(field))
-                    if field.many_to_many:
+                    # If looking up by attname (e.g. 'root_id'), we want the
+                    # column, not the related object. Don't add to path or update opts.
+                    if name == field.attname and name != field.name:
+                        # Don't add path info for the relation
+                        pass
+                    else:
+                        path.append(self.get_path_info(field))
+                        if field.many_to_many:
                             # ...
                         else:
                             opts = field.related_model._meta
@@ -1490,7 +1496,11 @@ class Query(BaseExpression):
         
         if field.is_relation:
-            targets = (opts.pk,)
+            # Check if we looked up by attname (column) rather than name (relation)
+            if names[-1] == field.attname and names[-1] != field.name:
+                targets = (field,)
+            else:
+                targets = (opts.pk,)
         else:
             targets = (field,)