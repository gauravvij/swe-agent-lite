diff --git a/src/_pytest/pathlib.py b/src/_pytest/pathlib.py
index 1234567..abcdefg 100644
--- a/src/_pytest/pathlib.py
+++ b/src/_pytest/pathlib.py
@@ -1,6 +1,7 @@
 import importlib
 import importlib.util
 import sys
+import types
 from pathlib import Path
 
 def import_path(path: Path, mode: str = "prepend"):
@@ -15,10 +16,28 @@ def import_path(path: Path, mode: str = "prepend"):
         module_name = compute_module_name(path)
         
         # Ensure parent packages exist in sys.modules
+        # For PEP 420 namespace packages, create them manually to avoid
+        # duplicate imports when test modules import namespace packages
         parts = module_name.split(".")
         for i in range(1, len(parts)):
             parent_name = ".".join(parts[:i])
             if parent_name not in sys.modules:
-                # Import the parent package
-                parent_path = path.parents[len(parts) - i - 1]
-                spec = importlib.util.spec_from_file_location(parent_name, parent_path / "__init__.py")
-                if spec is None:
-                    continue
-                parent = importlib.util.module_from_spec(spec)
-                sys.modules[parent_name] = parent
-                spec.loader.exec_module(parent)
+                # Calculate the path for this parent package
+                parent_path = path
+                for _ in range(len(parts) - i - 1, 0, -1):
+                    parent_path = parent_path.parent
+                
+                init_file = parent_path / "__init__.py"
+                if not init_file.exists():
+                    # PEP 420 namespace package - create it manually
+                    parent = types.ModuleType(parent_name)
+                    parent.__path__ = [str(parent_path)]
+                    parent.__package__ = parent_name
+                    sys.modules[parent_name] = parent
+                else:
+                    # Regular package with __init__.py - import normally
+                    spec = importlib.util.spec_from_file_location(parent_name, init_file)
+                    if spec is not None and spec.loader is not None:
+                        parent = importlib.util.module_from_spec(spec)
+                        sys.modules[parent_name] = parent
+                        spec.loader.exec_module(parent)
         
         # Now import the actual module
         spec = importlib.util.spec_from_file_location(module_name, path)