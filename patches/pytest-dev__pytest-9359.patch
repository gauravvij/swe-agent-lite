--- a/testing/typing_checks.py
+++ b/testing/typing_checks.py
@@ -45,3 +45,18 @@ def check_raises_is_a_context_manager(val: bool) -> None:
     with pytest.raises(RuntimeError) if val else contextlib.nullcontext() as excinfo:
         pass
     assert_type(excinfo, Optional[pytest.ExceptionInfo[RuntimeError]])
+
+
+def _decorator(f):
+    return f
+
+
+# Issue: Error message prints extra code line when using assert in python3.9
+# This checks that the pattern of assert followed by decorator is handled correctly.
+def check_assert_with_following_decorator(foo: int) -> None:
+    assert foo == 1
+
+    @_decorator
+    def inner() -> int:
+        return 2
+
+    assert 2 == inner()